<div class="dashboard-container">
  <!-- Header -->
  <div class="dashboard-header">
    <div>
      <h1>Welcome, {{ studentName }}!</h1>
      <p class="subtitle">Manage your learning journey</p>
    </div>
    <button class="logout-btn" (click)="logout()">Logout</button>
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="alert alert-error">
    {{ errorMessage }}
  </div>

  <!-- Credits Section -->
  <div class="credits-section">
    <div class="credit-card">
      <h3>Total Credits</h3>
      <p class="credit-value">{{ totalCredits }}</p>
    </div>
    <div class="credit-card accent">
      <h3>Available Credits</h3>
      <p class="credit-value highlight">{{ availableCredits }}</p>
    </div>
    <div class="credit-card">
      <h3>Used Credits</h3>
      <p class="credit-value">{{ usedCredits }}</p>
    </div>
  </div>

  <!-- Action Button -->
  <div class="action-section">
    <button class="primary-btn" (click)="bookSession()">Browse Courses & Book Sessions</button>
  </div>

  <!-- Bookings Section -->
  <div class="bookings-section">
    <h2>Your Bookings</h2>

    <div *ngIf="loading" class="loading">
      Loading bookings...
    </div>

    <div *ngIf="!loading && bookings.length === 0" class="empty-state">
      <p>You haven't booked any sessions yet.</p>
      <button class="secondary-btn" (click)="bookSession()">Browse Available Sessions</button>
    </div>

    <div *ngIf="!loading && bookings.length > 0" class="bookings-list">
      <div *ngFor="let booking of bookings" class="booking-card">
        <div class="booking-header">
          <h3>{{ booking.course?.name }}</h3>
          <span [class]="'status ' + getStatusClass(booking.status)">
            {{ booking.status }}
          </span>
        </div>
        <div class="booking-details">
          <p><strong>Tutor:</strong> {{ booking.ta?.name }}</p>
          <p><strong>Date & Time:</strong> {{ booking.startTime | date: 'short' }} - {{ booking.endTime | date: 'short' }}</p>
          <p><strong>Credits Used:</strong> {{ booking.creditsUsed }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
